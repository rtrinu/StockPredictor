<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predictions</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/custom.css') }}" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1>Predictions for {{ stock_symbol }}</h1>
        
        <h2>Numerical Models</h2>
        {% for model_name, predictions in prediction_data.numerical_models.items() %}
            <h3>{{ model_name }}</h3>
            {% if predictions %}
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            {% for key in predictions[0].keys() %}
                                <th>{{ key }}</th>
                            {% endfor %}
                        </tr>
                    </thead>
                    <tbody>
                        {% for prediction in predictions %}
                            <tr>
                                {% for value in prediction.values() %}
                                    <td>{{ value }}</td>
                                {% endfor %}
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p>No predictions available for {{ model_name }}.</p>
            {% endif %}
        {% endfor %}
        
        <h2>Averages</h2>
        <ul>
            {% for avg_name, avg_value in prediction_data.averages.items() %}
                <li>{{ avg_name }}: {{ avg_value }}</li>
            {% endfor %}
        </ul>
        
        <h2>Signals</h2>
        {% for signal_name, predictions in prediction_data.signals.items() %}
            <h3>{{ signal_name }}</h3>
            {% if predictions %}
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            {% for key in predictions[0].keys() %}
                                <th>{{ key }}</th>
                            {% endfor %}
                        </tr>
                    </thead>
                    <tbody>
                        {% for prediction in predictions %}
                            <tr>
                                {% for value in prediction.values() %}
                                    <td>{{ value }}</td>
                                {% endfor %}
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p>No signals available for {{ signal_name }}.</p>
            {% endif %}
        {% endfor %}
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>
</html>